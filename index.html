<!DOCTYPE html>
<html>
<head>
    <title>Contacts Data</title>
</head>
<body>
    <h1>Contacts Data</h1>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Message</th>
                <th>Created At</th>
            </tr>
        </thead>
        <tbody id="contactsTable">
            <tr><td colspan="5">Loading...</td></tr>
        </tbody>
    </table>

    <script>
        async function loadContacts() {
            try {
                const response = await fetch('/api/contacts');
                const contacts = await response.json();
                
                const tbody = document.getElementById('contactsTable');
                tbody.innerHTML = '';
                
                contacts.forEach(contact => {
                    tbody.innerHTML += `
                        <tr>
                            <td>${contact.id}</td>
                            <td>${contact.name}</td>
                            <td>${contact.email}</td>
                            <td>${contact.message}</td>
                            <td>${contact.created_at}</td>
                        </tr>
                    `;
                });
            } catch (error) {
                document.getElementById('contactsTable').innerHTML = 
                    '<tr><td colspan="5">Error loading data</td></tr>';
            }
        }
        
        loadContacts();
    </script>
</body>
</html>
